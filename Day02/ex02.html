<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
	<script>
		// --  자기 자신을 정의하는 함수 패턴
		var scareMe = function(){
			alert("Boo!");
			scareMe = function(){
				alert("Double boo!");
			};
		};

		scareMe();
		scareMe();
		
		// 이 패턴은 함수가 어떤 초기화 준비 작업을 단 한번만 수행할 경우에 유용하다.
		// 단점으로는 자기 자신을 재정의 하기 때문에 이전에 원본 함수에 추가했던 프로퍼티들을 모두 찾을 수 없게 된다는 점이다.
		// 또한 함수가 다른 이름으로 사용된다면 원본 함수의 본문이 실행된다.

		// -- 즉시 실행함수
		// 즉시 실행함수 패턴은 함수가 선언되자 마자 실행되도록 하는 문법이다
		(function(){
			alert('watch out 1111');
		}());

		(function(){
			alert('watch out 2222');
		})();

		// 둘다 가능하지만 jslint 의 경우 첫번째 표기법을 선호한다.

		// 즉시 실행함수에 매개변수 대입
		(function(who, when){
			console.log("I met " + who + " on " + when);
		}("Joe Black", new Date()));

		// 즉시 실행함수는 전역 객체가 즉시실행함수의 인자로 전달되기 때문에
		// window를 사용하지 않고도 전역객체에 접근이 가능하다
		(function(global){
			console.log(global);
		}(this));

		// 즉시 실행함수에서 함수 반환 값
		var result = (function(){
			return 2 + 2;
		}());
		console.log(result);

		// 즉시 실행함수의 장점
		// 즉시 실행 함수 패턴은 폭넓게 사용된다.
		// 전역 변수를 남기지 않고 상당량의 작업을 가능하게 해주고, 선언된 모든 변수는 스스로를 호출하는
		// 함수의 지역변수가 되기 때문에 임시 변수가 전역공간을 어지럽힐까봐 걱정하지 않아도 된다.

		// 즉시 실행 함수 패턴을 사용해 개별 기능을 독자적인 모듈로 감쌀 수도 있다.
		
	</script>
</body>
</html>